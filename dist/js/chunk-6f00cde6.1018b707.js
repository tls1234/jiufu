(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6f00cde6"],{"16e6":function(t,e,i){"use strict";var o=i("eb00");i.n(o).a},"4b90":function(t,e,i){"use strict";function o(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:location.search.substr(1);return t?JSON.parse('{"'+decodeURIComponent(t).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}'):{}}function n(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:location.href).split("#"),e={};return t.forEach(function(t){var i=t,o=i.indexOf("?");if(i=i.substr(o+1),-1<o)for(var n=i.split("&"),r=0;r<n.length;r+=1){var s=n[r].indexOf("=");if(0<s){var a=n[r].substring(0,s),c=n[r].substr(s+1);e[a]=decodeURIComponent(c)}else{var l=n[r];""!==l&&(e[l]=!0)}}}),e}i.d(e,"b",function(){return o}),i.d(e,"a",function(){return n}),i("f763"),i("7bc1"),i("55a0"),i("9090"),i("34a3"),i("3c6b")},"55a0":function(t,e,i){"use strict";var o=i("a013"),n=i("4b0a"),r=i("35dd");i("629c")("search",1,function(t,e,i,s){return[function(i){var o=t(this),n=null==i?void 0:i[e];return void 0!==n?n.call(i,o):new RegExp(i)[e](String(o))},function(t){var e=s(i,t,this);if(e.done)return e.value;var a=o(t),c=String(this),l=a.lastIndex;n(l,0)||(a.lastIndex=0);var u=r(a,c);return n(a.lastIndex,l)||(a.lastIndex=l),null===u?-1:u.index}]})},"9f36":function(t,e,i){"use strict";i.r(e);var o={name:"login-other",data:function(){return{status:!0}},components:{loginForm:i("d21f").a}},n=i("6691"),r=Object(n.a)(o,function(){var t=this.$createElement;return(this._self._c||t)("login-form",{attrs:{"login-other":this.status}})},[],!1,null,null,null);e.default=r.exports},d21f:function(t,e,i){"use strict";i("2338"),i("f763"),i("fb37");var o=i("a506"),n=i("591a"),r=i("da71"),s=i("4b90"),a=i("5d2d");function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,o)}return i}var l=r.b+"/capt/showCaptcha.jpg?v=",u="password",p={props:{loginOther:{type:Boolean,default:!1}},data:function(){return{passwordType:u,currentCode:"86",showCountryList:!1,captchaSrc:"",loginForm:{certCode:"",pwd:"",captcha:""},loginRules:{certCode:{tips:""},pwd:{tips:""},captcha:{tips:""}}}},created:function(){this.fetchNeedCaptcha()},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(i,!0).forEach(function(e){Object(o.a)(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}({},Object(n.b)(["showCaptcha"]),{query:function(){return this.$route.query},isDisabled:function(){var t=this.loginForm,e=t.certCode,i=t.pwd,o=t.captcha,n=e.length&&i.length;return(this.showCaptcha?n&&o.length:n)<1},iconEyeClass:function(){var t=this.passwordType===u;return{"icon-eye":!0,"icon-eye-close":t,"icon-eye-open":!t}}}),methods:{handleShowCountryList:function(){this.showCountryList=!0},selectItem:function(t){var e=t.value;this.currentCode=e,this.showCountryList=!1},fetchNeedCaptcha:function(){var t=this;this.$store.dispatch("needCaptcha").then(function(e){e&&t.handleCaptchaSrc()})},handleTogglePassword:function(){this.passwordType===u?this.passwordType="text":this.passwordType=u},handleCaptchaSrc:function(){this.captchaSrc=l+Date.now()},handleSubmit:function(){var t=this;if(this.chechFormRules()){var e=Object(s.b)(),i=e.invUserId,o=void 0===i?1:i,n=e.sourceCode,r=void 0===n?"":n,c=this.currentCode,l=this.loginForm.certCode,u="86"===c?l:"".concat(c,"-").concat(l),p=0<=u.indexOf("-")?0:/^1[3-9]\d{9}$/.test(l)?0:8,d=Object.assign({},this.loginForm,{certCode:u,certType:p,invUserId:o,sourceCode:r});this.$store.dispatch("login",d).then(function(e){if(0===e.code){if(e.result&&"216"!==e.result.userSourceChannelId)return void t.$createToast({type:"error",txt:"hi老司机，登录APP参与其他活动吖",time:3e3,onTimeout:function(){window.location.href="http://a.app.qq.com/o/simple.jsp?pkgname=com.sunline.android.sunline"}}).show();a.c("user",e),t.handleLoginSuccess()}}).catch(function(){t.fetchNeedCaptcha()})}},getUserType:function(t){var e=this;this.$store.dispatch("getUserType").then(function(i){i&&2===i.type&&(e.$store.dispatch("logout"),location.href="https://sns.9fstock.com/webstatic/downApp/download_stock.html"),t&&t()})},handleLoginSuccess:function(){this.$router.push({path:"/finish",query:{login:"login"}})},chechFormRules:function(){var t=this.loginForm,e=t.certCode,i=t.pwd,o=t.captcha;return e?(this.loginRules.certCode.tips="",i?(this.loginRules.pwd.tips="",this.showCaptcha&&!o?!(this.loginRules.captcha.tips="请输入验证码"):!(this.loginRules.captcha.tips="")):!(this.loginRules.pwd.tips="请输入登录密码")):!(this.loginRules.certCode.tips="请输入犇犇号/手机号码")}}},d=(i("16e6"),i("6691")),h=Object(d.a)(p,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"login"},[i("div",{staticClass:"login-form"},[i("div",{staticClass:"form-item"},[i("div",{staticClass:"item-input"},[t.loginOther?[i("span",{staticClass:"item-country",on:{click:t.handleShowCountryList}},[t._v("\n            +"+t._s(t.currentCode)+"\n          ")])]:t._e(),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.loginForm.certCode,expression:"loginForm.certCode",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"犇犇号/手机号码"},domProps:{value:t.loginForm.certCode},on:{input:function(e){e.target.composing||t.$set(t.loginForm,"certCode",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})],2),i("div",{staticClass:"item-tips error-msg"},[t._v(t._s(t.loginRules.certCode.tips))])]),i("div",{staticClass:"form-item"},[i("div",{staticClass:"item-input"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.loginForm.pwd,expression:"loginForm.pwd",modifiers:{trim:!0}}],attrs:{type:t.passwordType,placeholder:"请输入登录密码"},domProps:{value:t.loginForm.pwd},on:{input:function(e){e.target.composing||t.$set(t.loginForm,"pwd",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),i("span",{staticClass:"item-icon",on:{click:t.handleTogglePassword}},[i("i",{class:t.iconEyeClass})])]),i("div",{staticClass:"item-tips error-msg"},[t._v(t._s(t.loginRules.pwd.tips))])]),t.showCaptcha?[i("div",{staticClass:"form-item"},[i("div",{staticClass:"item-input"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.loginForm.captcha,expression:"loginForm.captcha",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:t.loginForm.captcha},on:{input:function(e){e.target.composing||t.$set(t.loginForm,"captcha",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),i("img",{staticClass:"item-captcha",attrs:{src:t.captchaSrc},on:{click:t.handleCaptchaSrc}})]),i("div",{staticClass:"item-tips error-msg"},[t._v(t._s(t.loginRules.captcha.tips))])])]:t._e(),i("div",{staticClass:"form-item"},[i("div",{staticClass:"item-link"},[t.loginOther?[i("router-link",{attrs:{to:{name:"login",query:t.query}}},[t._v("更多登录方式")])]:[i("router-link",{attrs:{to:{name:"login-other",query:t.query}}},[t._v("境外手机号登录")])],i("router-link",{attrs:{to:{name:"password-reset",query:t.query}}},[t._v("忘记密码")])],2)]),i("div",{staticClass:"form-item form-btn"},[i("cube-button",{attrs:{disabled:t.isDisabled},on:{click:t.handleSubmit}},[t._v("登录")])],1)],2),t.loginOther&&t.showCountryList?[i("country-list",{on:{selectItem:t.selectItem}})]:t._e()],2)},[],!1,null,"189090db",null);e.a=h.exports},eb00:function(t,e,i){}}]);